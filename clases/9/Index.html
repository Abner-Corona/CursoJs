<!DOCTYPE html>
<html lang="en">

<head>
    <title>Promesas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../css/slides.css">
</head>

<body>
    <div class="container">

        <div data-am-fadeshow="next-prev-navigation">

            <!-- Radio -->
            <input type="radio" name="css-fadeshow" id="slide-1" />
            <input type="radio" name="css-fadeshow" id="slide-2" />
            <input type="radio" name="css-fadeshow" id="slide-3" />
            <!-- Slides -->
            <div class="fs-slides">


                <div class="fs-slide"
                    style="background-image: url(https://www.workato.com/product-hub/wp-content/uploads/2020/12/workato-blog-JavaScript-20201208-bl-01.jpg);">
                    <div
                        style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-family: sans-serif; text-align: center; text-shadow: 0 0 20px rgba(0,0,0,0.5);">
                        <h1 style="margin-top: 0; margin-bottom: 0.8vw; font-size: 35px; font-weight: bold;">
                            Introducción
                        </h1>
                        <p
                            style="text-align: justify;font-size: 18px;; font-weight: 100;margin-bottom: 0; margin-top: 0;">
                            Una promesa en JavaScript es similar a una promesa en la vida real. Cuando hacemos una
                            promesa en la vida real, es una garantía de que vamos a hacer algo en el futuro. Porque las
                            promesas solo se pueden hacer para el futuro.

                            Una promesa tiene 2 resultados posibles: se mantendrá cuando llegue el momento o no.

                            Esto también es lo mismo para las promesas en JavaScript. Cuando definimos una promesa en
                            JavaScript, se resolverá cuando llegue el momento, o será rechazada.
                        </p>
                        <ul style="text-align: left;">
                            <li> <strong>Pendiente</strong> Estado inicial, antes de que la promesa tenga éxito o falle
                            </li>
                            <li><strong>Resuelto</strong> Estará resuelta en el momento que llamemos a resolve y a
                                continuación se ejecuta la función que pasamos al método .then. Debemos de tener en
                                cuenta que una vez resuelta no podremos modificar el valor de la promesa, aunque si
                                podríamos correr la misma instrucción para obtener un valor distinto y hacerlo las veces
                                que deseemos.</li>
                            <li><strong>Rechazado</strong> Pasará a estar rechazada cuando llamemos a reject y
                                obtengamos un error que nos indicará ese rechazo, pasando a continuación a ejecutar la
                                función que pasamos a .catch.
                            </li>
                        </ul>
                    </div>

                </div>

                <div class="fs-slide"
                    style="background-image: url(https://www.workato.com/product-hub/wp-content/uploads/2020/12/workato-blog-JavaScript-20201208-bl-01.jpg);">
                    <div
                        style="position: absolute; top: 20%; left: 50%; transform: translate(-50%, -50%); color: white; font-family: sans-serif; text-align: center; text-shadow: 0 0 20px rgba(0,0,0,0.5);">
                        <h1 style="margin-top: 0; margin-bottom: 0.8vw; font-size: 35px; font-weight: bold;">
                            Creación y llamada
                        </h1>
                        <p
                            style="text-align: justify; font-size: 18px;; font-weight: 100;margin-bottom: 0; margin-top: 0;">
                            Con el constructor promise y pasándole una función con dos parámetros, podremos crear una
                            promesa. Los parámetros son resolve y reject, que nos deja decirle si ha sido resuelta o
                            rechazada. Finalmente, habrá una condición. Si se cumple la condición, la Promesa se
                            resolverá, de lo contrario será rechazada.
                            Se llama al método then() después de que se resuelva la Promesa . Entonces podemos decidir
                            qué hacer con la Promesa resuelta.
                            También podemos adjuntar directamente el método catch() justo después de then()
                        </p>
                    </div>
                    <div id="editorJs2"
                        style="height: 285px; width:600px;position: absolute;top: 60%;z-index: 1000;left: 50%;transform: translate(-50%, -50%);">
                    </div>
                    <button class="btnRun" style="z-index: 200000000000!important;" onclick="evaluar2()"><i
                            class="gg-play-button-o"></i></button>
                </div>

                <div class="fs-slide"
                    style="background-image: url(https://www.workato.com/product-hub/wp-content/uploads/2020/12/workato-blog-JavaScript-20201208-bl-01.jpg);">
                    <div
                        style="position: absolute; top: 25%; left: 50%; transform: translate(-50%, -50%); color: white; font-family: sans-serif; text-align: center; text-shadow: 0 0 20px rgba(0,0,0,0.5);">
                        <h1 style="margin-top: 0; margin-bottom: 0.8vw; font-size: 35px; font-weight: bold;">
                            Encadenamiento
                        </h1>
                        <p
                            style="text-align: justify; font-size: 18px;; font-weight: 100;margin-bottom: 0; margin-top: 0;">
                            En ocasiones necesitamos ejecutar varias operaciones asíncronas una tras otra, o lo que es
                            lo mismo, después de una operación ejecutada con éxito, comienza la siguiente. Esto tiene
                            fácil resolución utilizando una secuencia de promesas en cadena.
                            Sin embargo sigue viendose un poco feo y exenso ,por lo cua llego el async / await
                        </p>
                    </div>
                    <div id="editorJs3"
                        style="height: 285px; width:600px;position: absolute;top: 60%;z-index: 1000;left: 50%;transform: translate(-50%, -50%);">
                    </div><button class="btnRun" onclick="evaluar3()"><i class="gg-play-button-o"></i></button>

                </div>

            </div>

            <!-- Quick Navigation -->
            <div class="fs-quick-nav">
                <label class="fs-quick-btn" for="slide-1"></label>
                <label class="fs-quick-btn" for="slide-2"></label>
                <label class="fs-quick-btn" for="slide-3"></label>
            </div>

            <!-- Prev Navigation -->
            <div class="fs-prev-nav">
                <label class="fs-prev-btn" for="slide-1"></label>
                <label class="fs-prev-btn" for="slide-2"></label>
                <label class="fs-prev-btn" for="slide-3"></label>
            </div>

            <!-- Next Navigation -->
            <div class="fs-next-nav">
                <label class="fs-next-btn" for="slide-1"></label>
                <label class="fs-next-btn" for="slide-2"></label>
                <label class="fs-next-btn" for="slide-3"></label>
            </div>

        </div>

    </div>


    <script src="../../js/ace.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/mode-javascript.min.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../js/mode-html.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/theme-monokai.min.js" type="text/javascript" charset="utf-8"></script>
    <script>


        //slide 2
        var editorJs2 = ace.edit('editorJs2');
        editorJs2.setTheme('ace/theme/monokai');
        editorJs2.getSession().setMode('ace/mode/javascript');
        editorJs2.setValue(`const myPromise = new Promise((resolve, reject) => {  
    let condition = Math.round(Math.random());  
    condition == 1 ?
        resolve('Promise is resolved successfully.') : 
        reject('Promise is rejected')
});

myPromise
    .then(number => alert(number))
    .catch(error => alert(error));
   
`);
        function evaluar2() {
            eval(editorJs2.getValue())
        }

        //slide 3
        var editorJs3 = ace.edit('editorJs3');
        editorJs3.setTheme('ace/theme/monokai');
        editorJs3.getSession().setMode('ace/mode/javascript');
        editorJs3.setValue(`// Callbacks
firstRequest(function(response) {  
    secondRequest(response, function(nextResponse) {    
        thirdRequest(nextResponse, function(finalResponse) {     
            console.log('Final response: ' + finalResponse);    
        }, failureCallback);  
    }, failureCallback);
}, failureCallback);

// Promesas
firstRequest()
  .then(function(response) {
    return secondRequest(response);
}).then(function(nextResponse) {  
    return thirdRequest(nextResponse);
}).then(function(finalResponse) {  
    console.log('Final response: ' + finalResponse);
}).catch(failureCallback);
`);
        function evaluar3() {
            eval(editorJs3.getValue())
        }


    </script>
</body>

</html>